<!doctype html><html lang=zh-hans><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=HandheldFriendly content="True"><meta http-equiv=x-ua-compatible content="IE=edge"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=generator content="Hugo 0.114.1"><link rel=apple-touch-icon sizes=180x180 href=https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/favicon-16x16.png><link rel=manifest href=https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/site.webmanifest><link rel=mask-icon href=https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/safari-pinned-tab.svg color=#8aa2d3><link rel="shortcut icon" href=https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/favicon.ico><meta name=theme-color content="#ffffff"><title>SICP笔记 - dorcl's Blog</title><meta name=author content="dorcl"><meta name=description content="碎梦残香"><meta name=keywords content="笔记,计算机"><meta property="og:title" content="SICP笔记"><meta name=twitter:title content="SICP笔记"><meta property="og:type" content="article"><meta property="og:url" content="https://shudorcl.github.io/post/sicp%E7%AC%94%E8%AE%B0/"><meta property="og:description" content="SICP Python版的笔记，读起来应该很快……吧？"><meta name=twitter:description content="SICP Python版的笔记，读起来应该很快……吧？"><meta property="og:image" content="https://shudorcl.github.io/img/og.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://shudorcl.github.io/img/og.png"><meta property="article:published_time" content="2023-01-11T21:58:16+08:00"><meta property="article:modified_time" content="2023-01-11T21:58:16+08:00"><style>@media(prefers-color-scheme:dark){body[data-theme=auto] img{filter:brightness(60%)}}body[data-theme=dark] img{filter:brightness(60%)}</style><link rel=stylesheet href=https://shudorcl.github.io/assets/css/fuji.min.b4a21b5d3eb1d0a51297e31230a65fc25e387843e45ec3a2d9176cd8d163c216d99b9b13a618b28f537c3b559ec8a408183b0fbfad48daddb9befa7d3ef90eed.css integrity="sha512-tKIbXT6x0KUSl+MSMKZfwl44eEPkXsOi2Rds2NFjwhbZm5sTphiyj1N8O1WeyKQIGDsPv61I2t25vvp9PvkO7Q=="></head><body data-theme=auto data-theme-auto=true><script data-cfasync=false>var fujiThemeData=localStorage.getItem("fuji_data-theme");fujiThemeData?fujiThemeData!=="auto"&&document.body.setAttribute("data-theme",fujiThemeData==="dark"?"dark":"light"):localStorage.setItem("fuji_data-theme","auto")</script><header><div class="container-lg clearfix"><div class="col-12 header"><a class=title-main href=https://shudorcl.github.io>dorcl's Blog</a>
<span class=title-sub>碎梦残香</span></div></div></header><main><div class="container-lg clearfix"><div class="col-12 col-md-9 float-left content"><article><h2 class="post-item post-title"><a href=https://shudorcl.github.io/post/sicp%E7%AC%94%E8%AE%B0/>SICP笔记</a></h2><div class="post-item post-meta"><span><i class="iconfont icon-today-sharp"></i>&nbsp;2023-01-11</span>
<span><i class="iconfont icon-file-tray-sharp"></i>&nbsp;2163 字</span>
<span><i class="iconfont icon-time-sharp"></i>&nbsp;5 分钟</span>
<span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href=/tags/%E7%AC%94%E8%AE%B0>笔记</a>&nbsp;<a href=/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA>计算机</a>&nbsp;</span></div><div class="post-content markdown-body"><p>SICP Python版的笔记，读起来应该很快……吧？</p><p>读了一点点后：快个鬼！</p><h2 id=11-引言>1.1 引言</h2><p>学习解释错误和诊断非预期错误的原因叫做调试（debugging）。它的一些指导原则是：</p><ol><li>逐步测试：每个写好的程序都由小型的组件模块组成，这些组件可以独立测试。尽快测试你写好的任何东西来及早捕获错误，并且从你的组件中获得自信。</li><li>隔离错误：复杂程序的输出、表达式、或语句中的错误，通常可以归于特定的组件模块。当尝试诊断问题时，在你能够尝试修正错误之前，一定要将它跟踪到最小的代码片段。</li><li>检查假设：解释器将你的指令执行为文字 &ndash; 不多也不少。当一些代码不匹配程序员所相信的（或所假设的）行为，它们的输出就会是非预期的。了解你的假设，之后专注于验证你的假设是否整理来调试。</li><li>询问他人：你并不是一个人！如果你不理解某个错误信息，可以询问朋友、导师或者搜索引擎。如果你隔离了一个错误，但是不知道如何改正，可以让其它人来看一看。在小组问题解决中，会分享一大堆有价值的编程知识。</li></ol><h2 id=12-编程元素>1.2 编程元素</h2><p>最重要的复合表达式就是调用表达式，它在一些参数上调用函数。</p><p>编程语言的要素之一是它提供的手段，用于使用<strong>名称</strong>来引用计算对象。如果一个值被给予了名称，我们就说这个名称绑定到了值上面。</p><p>赋值是 Python 中的最简单的抽象手段，因为它使我们可以使用最简单的名称来引用复合操作的结果，这样，复杂的程序可以由复杂性递增的计算对象一步一步构建。</p><p>将名称绑定到值上，以及随后通过名称来检索这些值的可能，意味着解释器必须维护某种内存来跟踪这些名称和值的绑定。这些内存叫做环境。</p><p>求值过程本质上是递归的，也就是说，它会调用其自身作为步骤之一。</p><ul><li>数字求值为它标明的数值</li><li>名称求值为当前环境中这个名称所关联的值</li></ul><p><strong>纯函数</strong>：具有一些输入（参数）以及返回一些输出（调用结果）的函数。</p><p>如内建函数<code>abs</code>。纯函数具有一个特性，调用它们时除了返回一个值之外没有其它效果。</p><p><strong>非纯函数</strong>：除了返回一个值之外，调用非纯函数会产生副作用，这会改变解释器或计算机的一些状态。一个普遍的副作用就是在返回值之外生成额外的输出</p><p>例如<code>print</code>，其返回值为<code>None</code>。而Python的交互式解释器，并不会将其打印出来。现在考虑嵌套调用：</p><pre><code class=language-py3>print(print(1), print(2))
</code></pre><p>这时我们就不难发现它的非纯特性：</p><pre><code class=language-py3>&gt;&gt;&gt; print(print(1), print(2))
1
2
None None
</code></pre><p><strong>签名</strong>：不同函数具有不同的允许接受的参数数量。</p><p>为了跟踪这些必备条件，我们需要以一种展示函数名称和参数名称的方式，画出每个函数。abs函数值接受一个叫作number的参数，向它提供更多或更少的参数会产生错误。</p><p>print函数可以接受任意数量的参数，所以它渲染为print(&mldr;)。</p><p>函数的可接受参数的描述叫做函数的签名。</p><h2 id=13-定义新的函数>1.3 定义新的函数</h2><h3 id=131-环境>1.3.1 环境</h3><p>如果形式参数和内建函数具有相同名称会如何呢？两个函数是否能共享名称而不会产生混乱呢？为了解决这些疑问，我们必须详细描述环境。</p><p>表达式求值所在的环境由帧的<strong>序列</strong>组成，它们可以表述为一些盒子。每一帧都包含了一些绑定，它们将名称和对应的值关联起来。</p><p>// 这么突兀就抛出一个帧，不好吧……看看英文版，嗯，翻得有点复杂</p><p>我的理解：帧是当前编程环境的一个<strong>状态</strong>，存储名称和对应的值。</p><p><img class=img-zoomable src=https://wizardforcel.gitbooks.io/sicp-py/content/img/global_frame_assignment.png alt="1.3 Diagram1"></p><p>在图中不难发现，对于函数<code>abs</code>而言，帧中有它的名字<code>abs</code>，而名字绑定的内容中同样有名字<code>abs</code></p><p>这种重复是有意的，许多不同的名字可能会引用相同函数，但是函数本身只有一个内在名称。</p><p>当然，这种内在名称不会影响名字在环境中的检索。</p><p>As we proceed to introduce additional features of Python, we will have to extend these diagrams. Every time we do, we will list the new features that our diagrams can express.</p><p>New environment Features: Assignment and user-defined function definition.</p><h3 id=132-调用用户定义的函数>1.3.2 调用用户定义的函数</h3><p>// 第一句话看了半天才明白……</p><p>在调用用户定义函数时，Python解释器的行为类似于调用自建函数的过程</p><p>即，类似于下图那样</p><p><img class=img-zoomable src=https://wizardforcel.gitbooks.io/sicp-py/content/img/expression_tree.png alt="expression tree"></p><p>求出操作数表达式，再对实参调用具名函数（named fuction）</p><p>这个行为便引入了相对于全局帧的一个局部帧，它只能由该函数来访问。</p><p>为了在实参上实现这个用户定义函数：</p><p>// 等等，到底什么是<code>实现</code>？</p><ol><li>将实参与形参绑定 // 注意，绑定是前面提到的术语</li><li>在局部帧的开头和全局帧的结尾<strong>求解</strong>（evaluated）函数体</li></ol><p>// 第二点是什么意思呢？我现在没搞明白
// 不过，这里的<strong>求解</strong>是贯穿之前文本的evaluated，与之前SICP把函数调用和运算都看作表达式，是一致的</p><p><img class=img-zoomable src=https://wizardforcel.gitbooks.io/sicp-py/content/img/evaluate_square.png alt=完全没搞懂的图片></p><p>这张图的解释在原文有就不复制了</p><p>针对调用表达式<code>square(-2)</code>，我们有：</p><ol><li>这个调用表达式不在任何函数中，也就是说，它将在<strong>全局帧</strong>求值，会检索任何在全局帧中的名字</li><li>在<code>square</code>函数体内，它的返回表达式在自己的这个局部帧内求值，它将square的形式参数x的名称绑定到实参的值-2上</li></ol><p>// 原文：它的返回表达式在上面的步骤1引入的新环境中求值 步骤一引入的新环境是什么？应该就是函数的局部帧吧？</p><p>// 表达式求值所在的环境由帧的<strong>序列</strong>组成，那么是从全局帧进入到了局部帧，也就是<code>在局部帧的开头和全局帧的结尾</code>……吗？</p><p>所以，环境中帧的顺序会影响表达式中名称检索返回的值</p><p>// 说人话就是变量会在运行中发生变化</p><p>所以，之前说名称求解（name evaluate，1.2.5出现的概念）为当前环境中与这个名称关联的值</p><p>现在，就需要更进一步：</p><p>名称求解为当前环境中，最先发现该名称的帧中，绑定到这个名称的值。</p><p>// 啊啊啊，前面evaluate是求出，这里又是求解，不过毕竟是民间汉化，没办法
// 这种严丝合缝的书，感觉需要跳转功能的笔记</p><p>天呐……我低估了这本书，可能得搁置一下了……</p></div></article><div class="license markdown-body"><blockquote><p>除特殊注明部分，本站内容采用 <a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a> 进行许可。</p></blockquote></div></div><aside class="col-12 col-md-3 float-left sidebar"><div class="sidebar-item sidebar-pages"><h3>页面</h3><ul><li><a href=/>Home</a></li><li><a href=/archives/>Archives</a></li><li><a href=/mood/>Mood</a></li><li><a href=/friends/>Friends</a></li><li><a href=/about/>About</a></li><li><a href=/search/>Search</a></li><li><a href=/index.xml>RSS</a></li></ul></div><div class="sidebar-item sidebar-links"><h3>链接</h3><ul><li><a href=https://github.com/shudorcl target=_blank><span>GitHub</span></a></li></ul></div><div class="sidebar-item sidebar-tags"><h3>标签</h3><div><span><a href=/tags/%E5%8A%9B%E6%89%A3/>力扣</a></span>
<span><a href=/tags/%E6%9D%82%E7%89%A9/>杂物</a></span>
<span><a href=/tags/%E7%AC%94%E8%AE%B0/>笔记</a></span>
<span><a href=/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/>计算机</a></span></div></div><div class="sidebar-item sidebar-toc"><h3>目录</h3><nav id=TableOfContents><ul><li><a href=#11-引言>1.1 引言</a></li><li><a href=#12-编程元素>1.2 编程元素</a></li><li><a href=#13-定义新的函数>1.3 定义新的函数</a><ul><li><a href=#131-环境>1.3.1 环境</a></li><li><a href=#132-调用用户定义的函数>1.3.2 调用用户定义的函数</a></li></ul></li></ul></nav></div></aside></div><div class=btn><div class=btn-menu id=btn-menu><i class="iconfont icon-grid-sharp"></i></div><div class=btn-toggle-mode><i class="iconfont icon-contrast-sharp"></i></div><div class=btn-scroll-top><i class="iconfont icon-chevron-up-circle-sharp"></i></div></div><aside class=sidebar-mobile style=display:none><div class=sidebar-wrapper><div class="sidebar-item sidebar-pages"><h3>页面</h3><ul><li><a href=/>Home</a></li><li><a href=/archives/>Archives</a></li><li><a href=/mood/>Mood</a></li><li><a href=/friends/>Friends</a></li><li><a href=/about/>About</a></li><li><a href=/search/>Search</a></li><li><a href=/index.xml>RSS</a></li></ul></div><div class="sidebar-item sidebar-links"><h3>链接</h3><ul><li><a href=https://github.com/shudorcl target=_blank><span>GitHub</span></a></li></ul></div><div class="sidebar-item sidebar-tags"><h3>标签</h3><div><span><a href=/tags/%E5%8A%9B%E6%89%A3/>力扣</a></span>
<span><a href=/tags/%E6%9D%82%E7%89%A9/>杂物</a></span>
<span><a href=/tags/%E7%AC%94%E8%AE%B0/>笔记</a></span>
<span><a href=/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/>计算机</a></span></div></div><div class="sidebar-item sidebar-toc"><h3>目录</h3><nav id=TableOfContents><ul><li><a href=#11-引言>1.1 引言</a></li><li><a href=#12-编程元素>1.2 编程元素</a></li><li><a href=#13-定义新的函数>1.3 定义新的函数</a><ul><li><a href=#131-环境>1.3.1 环境</a></li><li><a href=#132-调用用户定义的函数>1.3.2 调用用户定义的函数</a></li></ul></li></ul></nav></div></div></aside></main><footer><div class="container-lg clearfix"><div class="col-12 footer"><span>&copy; 2022-2023
<a href=https://shudorcl.github.io>dorcl</a>
| <a href=https://github.com/shudorcl/shudorcl.github.io>Source code</a>
| 基于 <a href=https://github.com/dsrkafuu/hugo-theme-fuji/ target=_blank>Fuji-v2</a> & <a href=https://gohugo.io/ target=_blank>Hugo</a> 构建</span></div></div></footer><script defer src=https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==" crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.27.0/components/prism-core.min.js integrity="sha512-LCKPTo0gtJ74zCNMbWw04ltmujpzSR4oW+fgN+Y1YclhM5ZrHCZQAJE4quEodcI/G122sRhSGU2BsSRUZ2Gu3w==" crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.27.0/plugins/autoloader/prism-autoloader.min.js integrity="sha512-GP4x8UWxWyh4BMbyJGOGneiTbkrWEF5izsVJByzVLodP8CuJH/n936+yQDMJJrOPUHLgyPbLiGw2rXmdvGdXHA==" crossorigin=anonymous></script>
<script defer src=/assets/js/fuji.min.645f1123be695831f419ab54c1bcba327325895c740014006e57070d4f3e5d6b553e929c4b46f40ea707249e9c7f7c2a446d32a39ce7319f80a34525586a8e0f.js integrity="sha512-ZF8RI75pWDH0GatUwby6MnMliVx0ABQAblcHDU8+XWtVPpKcS0b0DqcHJJ6cf3wqRG0yo5znMZ+Ao0UlWGqODw=="></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css integrity="sha512-07YhC3P4/vS5HdgGuNAAeIxb5ee//efgRNo5AGdMtqFBUPYOdQG/sDK0Nl5qNq94kdEk/Pvu8pmN4GYUeucUkw==" crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js integrity="sha512-aMDiFsrEV3KzAn9EHwyBRS7y1APjZWt/Z/73ukLN2Ca2KcGGzlOQFQSnfOdnEcehpwMaQ8edlDB/0cMX2GsHbg==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js integrity="sha512-ZA/RPrAo88DlwRnnoNVqKINnQNcWERzRK03PDaA4GIJiVZvGFIWQbdWCsUebMZfkWohnfngsDjXzU6PokO4jGw==" crossorigin=anonymous></script>
<script>renderMathInElement(document.querySelector("div.content"),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]})</script></body></html>